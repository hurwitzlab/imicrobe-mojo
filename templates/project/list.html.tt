<script>
$(document).ready(function() {
  $('#projects').dataTable({"iDisplayLength": 10});
});
</script>

<div class="row">
  <h1>Projects</h1>
  [% USE Comma %]
  [% IF projects.size > 0 %]
  <table id="projects" class="display" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Name</th>
        <th>Code</th>
        <th>Type</th>
        <th>&#35; Samples</th>
      </tr>
    </thead>
    <tbody>
    [% FOREACH project IN projects %]
      <tr>
        <td><a href="/project/view/[% project.project_id %]">[% project.project_name | truncate(70) %]</a></td>
        <td>[% project.project_code %]</td>
        <td>[% project.project_type OR 'Unknown' %]</td>
        <td align="right">[% project.num_samples OR '0' | comma %]</td>
      </tr>
    [% END %]
    </tbody>
  </table>
  [% ELSE %]
    No projects.
  [% END %]
</div>
